<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>机构负责人平台 - 工单差异查询（全机构）</title>
  <!-- 引入外部资源 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
  
  <style>
    /* 基础样式（复用） */
    body { font-family: "微软雅黑", "思源黑体", sans-serif; background-color: #f5f7fa; color: #333; margin: 0; padding: 0; }
    .btn-primary { background-color: #1890FF; border-color: #1890FF; }
    .btn-primary:hover { background-color: #096DD9; border-color: #096DD9; }
    .btn-outline-secondary { border-color: #ddd; color: #666; }
    .btn-outline-secondary:hover { background-color: #f5f5f5; border-color: #ccc; }
    .card { border: none; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); margin-bottom: 20px; }
    .card-header { background: #fff; border-bottom: 1px solid #f0f0f0; border-radius: 12px 12px 0 0; padding: 15px 20px; font-weight: 600; font-size: 15px; }
    .card-body { padding: 20px; }
    .badge { font-size: 12px; }

    /* 布局样式（复用） */
    .app-container { display: flex; min-height: 100vh; }
    .sidebar { width: 220px; background: #fff; box-shadow: 1px 0 2px rgba(0,0,0,0.05); padding: 20px 0; flex-shrink: 0; }
    .sidebar-logo { text-align: center; padding: 0 20px 20px; border-bottom: 1px solid #f0f0f0; margin-bottom: 20px; }
    .sidebar-logo img { height: 40px; margin-bottom: 8px; }
    .sidebar-logo h3 { font-size: 16px; color: #1890FF; font-weight: 600; margin: 0; }
    .nav-menu { list-style: none; padding: 0; margin: 0; }
    .nav-item { margin-bottom: 4px; }
    .nav-link { display: flex; align-items: center; padding: 12px 20px; color: #666; text-decoration: none; font-size: 14px; border-left: 3px solid transparent; }
    .nav-link:hover, .nav-link.active { color: #1890FF; background-color: #f0f7ff; border-left: 3px solid #1890FF; }
    .nav-link i { font-size: 18px; margin-right: 12px; width: 20px; text-align: center; }
    .nav-group-title { padding: 15px 20px 5px; font-size: 12px; color: #999; font-weight: 500; }

    /* 主内容区（复用+新增） */
    .main-content { flex: 1; padding: 20px; overflow-y: auto; }
    .top-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .page-title { font-size: 20px; font-weight: 600; color: #333; margin: 0; }
    .user-info { display: flex; align-items: center; }
    .notification { position: relative; margin-right: 20px; cursor: pointer; }
    .notification i { font-size: 20px; color: #666; }
    .notification-badge { position: absolute; top: -5px; right: -5px; width: 18px; height: 18px; background: #FF4D4F; color: #fff; border-radius: 50%; font-size: 12px; text-align: center; line-height: 18px; }
    .user-avatar { width: 40px; height: 40px; border-radius: 50%; background: #1890FF; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: 600; margin-right: 10px; }
    .user-name { font-size: 14px; font-weight: 500; }

    /* 导入区域样式（新增） */
    .import-bar { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; margin-bottom: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px; }
    .import-group { flex: 1; min-width: 200px; }
    .import-group label { display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; }
    .import-actions { display: flex; gap: 10px; align-self: flex-end; }
    .upload-btn { position: relative; overflow: hidden; }
    .upload-btn input { position: absolute; top: 0; right: 0; opacity: 0; cursor: pointer; }

    /* 筛选区域样式（新增） */
    .filter-bar { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; margin-bottom: 20px; }
    .filter-group { flex: 1; min-width: 150px; }
    .filter-group label { display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; }

    /* 表格样式（复用+新增） */
    .data-table { width: 100%; border-collapse: collapse; }
    .data-table th, .data-table td { border: 1px solid #f0f0f0; padding: 12px; text-align: left; font-size: 14px; }
    .data-table th { background-color: #f8f9fa; font-weight: 600; }
    .data-table tr:hover { background-color: #f8f9fa; }
    .diff-yellow { background-color: #FFF7E6; color: #FAAD14; }
    .diff-red { background-color: #FFF2F2; color: #FF4D4F; }
    .diff-orange { background-color: #FFF7E6; color: #FF7A45; }
    .diff-purple { background-color: #F9F0FF; color: #722ED1; }
    .diff-green { background-color: #F6FFED; color: #52C41A; }

    /* 差异详情弹窗样式（新增） */
    .detail-container { display: flex; gap: 20px; margin-bottom: 20px; }
    .detail-card { flex: 1; border: 1px solid #e8e8e8; border-radius: 8px; padding: 15px; }
    .detail-title { font-weight: 600; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
    .detail-item { margin-bottom: 10px; display: flex; justify-content: space-between; }
    .detail-label { color: #666; }
    .detail-value { font-weight: 500; }
    .coordination-box { background-color: #f0f7ff; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
    .contact-info { display: flex; align-items: center; gap: 10px; margin-top: 10px; }
    .contact-info i { color: #1890FF; }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- 侧边导航 -->
    <div class="sidebar">
      <div class="sidebar-logo">
        <img src="https://via.placeholder.com/80x40?text=居家长护" alt="系统Logo">
        <h3>机构负责人工作平台</h3>
      </div>
      
      <!-- 其他导航分组（省略） -->
      <div class="nav-group-title">看板管理（全机构）</div>
      <ul class="nav-menu">
        <li class="nav-item"><a href="#" class="nav-link"><i class="fa fa-user-o"></i><span>服务对象看板</span></a></li>
        <li class="nav-item"><a href="#" class="nav-link"><i class="fa fa-user-md"></i><span>护理员看板</span></a></li>
        <li class="nav-item"><a href="#" class="nav-link"><i class="fa fa-dashboard"></i><span>运营总体看板</span></a></li>
      </ul>

      <!-- 工单管理（全机构）- 新增 -->
      <div class="nav-group-title">工单管理（全机构）</div>
      <ul class="nav-menu">
        <li class="nav-item">
          <a href="#" class="nav-link active">
            <i class="fa fa-file-text-o"></i>
            <span>平台与医保工单差异查询</span>
          </a>
        </li>
      </ul>

      <!-- 其他导航分组（省略） -->
      <div class="nav-group-title">服务管理（全机构）</div>
      <ul class="nav-menu">
        <li class="nav-item"><a href="#" class="nav-link"><i class="fa fa-phone-square"></i><span>回访管理（全机构）</span></a></li>
      </ul>
    </div>

    <!-- 主内容区 -->
    <div class="main-content">
      <!-- 顶部导航 -->
      <div class="top-nav">
        <h1 class="page-title">平台工单与医保工单差异查询（全机构）</h1>
        <div class="user-info">
          <div class="notification">
            <i class="fa fa-bell-o"></i>
            <span class="notification-badge">2</span>
          </div>
          <div class="user-avatar">负</div>
          <div class="user-name">机构负责人</div>
        </div>
      </div>

      <!-- 导入区域 -->
      <div class="import-bar">
        <div class="import-group">
          <label>服务月份</label>
          <select class="form-select">
            <option value="2024-10">2024年10月</option>
            <option value="2024-09">2024年09月</option>
            <option value="2024-08">2024年08月</option>
          </select>
        </div>
        <div class="import-actions">
          <button class="btn btn-outline-secondary upload-btn">
            <i class="fa fa-download"></i> 下载医保模板
          </button>
          <label class="btn btn-primary upload-btn">
            <i class="fa fa-upload"></i> 导入全机构医保工单
            <input type="file" accept=".xlsx,.xls">
          </label>
          <button class="btn btn-success">
            <i class="fa fa-refresh"></i> 重新比对数据
          </button>
        </div>
      </div>

      <!-- 筛选区域 -->
      <div class="filter-bar">
        <div class="filter-group">
          <label>差异类型</label>
          <select class="form-select">
            <option value="all">全部差异</option>
            <option value="time_diff">时长差异</option>
            <option value="missing_platform">机构有医保无</option>
            <option value="missing_medical">医保有机构无</option>
            <option value="nurse_mismatch">护理员不匹配</option>
          </select>
        </div>
        <div class="filter-group">
          <label>行政区域</label>
          <select class="form-select">
            <option value="all">所有区域</option>
            <option value="绍兴市嵊州市-石璜镇">绍兴市嵊州市-石璜镇</option>
            <option value="绍兴市嵊州市-长乐镇">绍兴市嵊州市-长乐镇</option>
            <option value="绍兴市嵊州市-甘霖镇">绍兴市嵊州市-甘霖镇</option>
          </select>
        </div>
        <div class="filter-group">
          <label>处理状态</label>
          <select class="form-select">
            <option value="all">全部状态</option>
            <option value="pending">未处理</option>
            <option value="processed">已处理</option>
          </select>
        </div>
        <div class="filter-actions">
          <button class="btn btn-primary">
            <i class="fa fa-filter"></i> 筛选
          </button>
          <button class="btn btn-outline-secondary">
            <i class="fa fa-download"></i> 导出差异报表
          </button>
        </div>
      </div>

      <!-- 差异列表 -->
      <div class="card">
        <div class="card-header">全机构工单差异汇总（共32条差异）</div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="data-table">
              <thead>
                <tr>
                  <th>序号</th>
                  <th>服务对象</th>
                  <th>身份证号</th>
                  <th>服务日期</th>
                  <th>所属区域</th>
                  <th>差异类型</th>
                  <th>机构数据</th>
                  <th>医保数据</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>郑三</td>
                  <td>330623********1234</td>
                  <td>2024-10-15</td>
                  <td>绍兴市嵊州市-长乐镇</td>
                  <td class="diff-yellow"><i class="fa fa-clock-o"></i> 时长差异</td>
                  <td>120分钟</td>
                  <td>90分钟</td>
                  <td>
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#diffDetailModal">
                      <i class="fa fa-eye"></i> 查看详情
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>王五</td>
                  <td>330623********5678</td>
                  <td>2024-10-10</td>
                  <td>绍兴市嵊州市-甘霖镇</td>
                  <td class="diff-red"><i class="fa fa-exclamation-circle"></i> 机构有医保无</td>
                  <td>工单存在（10月10日）</td>
                  <td>无此日期工单</td>
                  <td>
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#diffDetailModal">
                      <i class="fa fa-eye"></i> 查看详情
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>赵六</td>
                  <td>330623********9012</td>
                  <td>2024-10-08</td>
                  <td>绍兴市嵊州市-石璜镇</td>
                  <td class="diff-orange"><i class="fa fa-exclamation-triangle"></i> 医保有机构无</td>
                  <td>无此日期工单</td>
                  <td>工单存在（10月08日）</td>
                  <td>
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#diffDetailModal">
                      <i class="fa fa-eye"></i> 查看详情
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>钱七</td>
                  <td>330623********3456</td>
                  <td>2024-10-12</td>
                  <td>绍兴市嵊州市-石璜镇</td>
                  <td class="diff-purple"><i class="fa fa-user-md"></i> 护理员不匹配</td>
                  <td>李护理（工号：001）</td>
                  <td>张护理（工号：003）</td>
                  <td>
                    <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#diffDetailModal">
                      <i class="fa fa-eye"></i> 查看详情
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 差异详情弹窗 -->
  <div class="modal fade" id="diffDetailModal" tabindex="-1" aria-labelledby="diffDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="diffDetailModalLabel">工单差异详情 - 郑三（长乐镇）</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- 差异对比详情 -->
          <div class="detail-container">
            <div class="detail-card">
              <div class="detail-title">机构平台工单信息</div>
              <div class="detail-item">
                <span class="detail-label">服务对象：</span>
                <span class="detail-value">郑三</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">身份证号：</span>
                <span class="detail-value">330623********1234</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">服务日期：</span>
                <span class="detail-value">2024-10-15</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">服务时长：</span>
                <span class="detail-value">120分钟</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">护理员：</span>
                <span class="detail-value">李护理（工号：001）</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">签入时间：</span>
                <span class="detail-value">2024-10-15 08:00</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">签出时间：</span>
                <span class="detail-value">2024-10-15 10:00</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">服务项目：</span>
                <span class="detail-value">生活照料、基础护理</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">签入签出截图：</span>
                <span class="detail-value"><a href="#" class="text-primary">查看截图</a></span>
              </div>
            </div>
            
            <div class="detail-card">
              <div class="detail-title">医保平台工单信息</div>
              <div class="detail-item">
                <span class="detail-label">服务对象：</span>
                <span class="detail-value">郑三</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">身份证号：</span>
                <span class="detail-value">330623********1234</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">服务日期：</span>
                <span class="detail-value">2024-10-15</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">服务时长：</span>
                <span class="detail-value">90分钟</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">护理员：</span>
                <span class="detail-value">李护理（工号：001）</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">开始时间：</span>
                <span class="detail-value">2024-10-15 08:00</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">结束时间：</span>
                <span class="detail-value">2024-10-15 09:30</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">服务项目：</span>
                <span class="detail-value">生活照料、基础护理</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">医保记录ID：</span>
                <span class="detail-value">YB-20241015-00123</span>
              </div>
            </div>
          </div>

          <!-- 区域差异汇总 -->
          <div class="card mb-3">
            <div class="card-header">长乐镇同类型差异汇总</div>
            <div class="card-body">
              <p>长乐镇共存在<span class="text-primary">12条</span>时长差异，其中<span class="text-warning">10条</span>为机构记录时长 > 医保记录时长，平均差异时长为25分钟。</p>
            </div>
          </div>

          <!-- 协调建议 -->
          <div class="coordination-box">
            <h6 class="mb-2"><i class="fa fa-lightbulb-o"></i> 协调建议</h6>
            <p>建议联系医保接口人核实长乐镇区域服务时长计算规则，确认是否存在医保系统时长截取逻辑差异。如需补正，可批量提交该区域时长差异说明材料。</p>
            <div class="contact-info">
              <i class="fa fa-user-circle"></i>
              <div>
                <div><strong>医保接口人：</strong>张老师</div>
                <div><strong>联系方式：</strong>138****1234 | ybgl@example.com</div>
              </div>
            </div>
          </div>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 引入Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>